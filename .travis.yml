language: node_js
node_js:
  - 12
cache: yarn
deploy:
  provider: npm
  email: "jeniksilhan@gmail.com"
  on:
    branch: master
install:
  - yarn install --frozen-lockfile --ignore-engines
before_script:
  - yarn run build
script:
  - yarn run test
before_deploy:
  - echo "//registry.npmjs.org/:_authToken=\${NPM_TOKEN}" >> $HOME/.npmrc 2> /dev/null
deploy:
  provider: script
  script:
    - yarn run release
